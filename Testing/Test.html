<!DOCTYPE html>
<html>
<head>
    <title>My experiment</title>
    <!--    <script src="https://cdn.jsdelivr.net/npm/jspsych@6.0.0/jspsych.min.js"></script>-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/jspsych@6.0.0/plugins/jspsych-instructions.js"></script>-->
    <!--    <script src="https://cdn.jsdelivr.net/npm/jspsych@6.0.0/plugins/jspsych-free-sort.js"></script>-->
    <!--    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jspsych@6.0.0/css/jspsych.css">-->
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugins/jspsych-instructions.js"></script>
    <script src="jspsych/plugins/jspsych-free-sort.js"></script>
    <script src="jspsych/plugins/jspsych-html-button-response.js"></script>
    <script src="jsPsych/plugins/jspsych-survey-multi-choice.js"></script>
    <link rel="stylesheet" href="jspsych/css/jspsych.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
</head>
<body></body>
<script>

    /* create timeline */
    var timeline = [];

    /* define welcome message trial */
    var welcome = {
        type: "instructions",
        pages: ["Welcome to the experiment. Press next to begin.",
                "In this experiement you will need to move the figure \n" +
                "where you think it should be",
                "Video of example"],
        show_clickable_nav: true,
        show_page_number: true
    };
    timeline.push(welcome);



    // definiting two different response scales that can be used.
    var page_1_options = ["Strongly Disagree", "Disagree", "Neutral", "Agree", "Strongly Agree"];


    var multi_choice_block = {
        type: 'survey-multi-choice',
        questions: [
            {prompt: "I like vegetables", name: 'Vegetables', options: page_1_options, required:true},
            {prompt: "I like fruit", name: 'Fruit', options: page_1_options, required: false}
        ],
        preamble: "Please answer the following questions"
      };

      timeline.push(multi_choice_block);



    for (var i = 1; i <= 3; i++) {
        var sorting_stimuli = [];
        var x_loc = [];
        var y_loc = [];
        var height = [];
        var width = []; // TODO: Later get all input from DB

        sorting_stimuli.push("../img/Test" + i + "_img" + 1 + ".jpg");
        // sorting_stimuli.push(${""});
        x_loc.push(15);
        y_loc.push(100);
        height.push(100);
        width.push(100);

        sorting_stimuli.push("../img/Test" + i + "_img" + 2 + ".jpg");
        // sorting_stimuli.push(${""});
        x_loc.push(5);
        y_loc.push(5);
        height.push(200);
        width.push(800);

        var sort_trial = {
            type: 'free-sort',
            stimuli: sorting_stimuli,
            stim_x_location: x_loc,
            stim_y_location: y_loc,
            stim_height: height,
            stim_width: width,
            prompt: "<p>Click and drag the image below to where you think it should be.</p>",
            button_label: "I'm done, take me to next image"
        };

        timeline.push(sort_trial);
    }

    var goodbye = {
        type: "html-button-response",
        stimulus: "Thank you for participating! ",
        choices: ['GoodBye!']
    };
    timeline.push(goodbye);

    /* start the experiment */
    jsPsych.init({
        timeline: timeline,
        on_finish: function() {
            jsPsych.data.displayData();
        },
        show_progress_bar: true
    });

</script>
</html>